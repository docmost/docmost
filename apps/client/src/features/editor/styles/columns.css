/* Columns */
.ProseMirror section[data-type="columns"] {
  display: flex;
  gap: 0;
  margin-top: 1.5em;
  margin-bottom: 1.5em;
  position: relative;
  width: 100%;
}

/* Resize Layout Handle on the left */
.ProseMirror section[data-type="columns"]::before {
  content: "";
  position: absolute;
  left: -12px;
  top: 0;
  bottom: 0;
  width: 4px;
  background-color: transparent;
  border-radius: 2px;
  transition: background-color 0.2s;
  cursor: grab;
  z-index: 20;
}

.ProseMirror[contenteditable="true"]
  section[data-type="columns"]:hover::before {
  background-color: var(--mantine-color-blue-filled);
}

.ProseMirror div[data-type="column"] {
  flex: 1 1 0%;
  min-width: 0;
  overflow: hidden;
  position: relative;
  padding: 0 1rem;
}

.ProseMirror div[data-type="column"]:empty::before {
  content: "Type / to insert";
  color: var(--mantine-color-placeholder);
  position: absolute;
  pointer-events: none;
  font-size: 0.9em;
  opacity: 0.6;
}

.ProseMirror div[data-type="column"] > * {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

.ProseMirror div[data-type="column"] > *:first-child {
  margin-top: 0;
}

.ProseMirror div[data-type="column"] > *:last-child {
  margin-bottom: 0;
}

/* Column dividers for visual separation and resizing */
.ProseMirror div[data-type="column"]:not(:last-child)::after {
  content: "";
  position: absolute;
  right: -1px;
  top: 0;
  bottom: 0;
  width: 1px;
  background-color: light-dark(
    var(--mantine-color-gray-2),
    var(--mantine-color-dark-4)
  );
  transition:
    background-color 0.2s,
    width 0.2s;
  z-index: 10;
}

.ProseMirror[contenteditable="true"]
  div[data-type="column"]:not(:last-child):hover::after {
  background-color: var(--mantine-color-blue-filled);
  width: 3px;
  cursor: col-resize;
}

/* Responsive: stack columns on small screens */
@media (max-width: 48em) {
  .ProseMirror section[data-type="columns"] {
    flex-direction: column;
    gap: 1rem;
  }

  .ProseMirror div[data-type="column"] {
    padding: 0;
    width: 100% !important;
    max-width: 100% !important;
    flex: 1 1 auto !important;
  }

  .ProseMirror div[data-type="column"]:not(:last-child)::after {
    display: none;
  }

  .ProseMirror section[data-type="columns"]::before {
    display: none;
  }
}
